<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>demo</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/jquery.gridster.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="js/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="js/jquery/1.12.4/jquery.min.js"></script>
    <!--<script src="js/bootstrap.min.js"></script>-->
    <script src="js/gridster/jquery.gridster.js"></script>
    <style>
        @media (min-width: 768px) {

        }
        @media (min-width: 992px) {
            .indexmain {
                margin: 0 auto;background-color: #afd9ee;
                width: 1080px;
                padding-right: 15px;
                padding-left: 15px;
            }

            [data-col="4"] { left:1095px; }
            [data-col="3"] { left:735px; }
            [data-col="2"] { left:375px; }
            [data-col="1"] { left:15px; }


            [data-row="6"] { top:1480px; }
            [data-row="5"] { top:1190px; }
            [data-row="4"] { top:900px; }
            [data-row="3"] { top:610px; }
            [data-row="2"] { top:320px; }
            [data-row="1"] { top:30px; }

            [data-sizey="1"] { height:230px; }
            [data-sizey="2"] { height:520px; }
            [data-sizey="3"] { height:810px; }

            [data-sizex="1"] { width:330px; }
            [data-sizex="2"] { width:690px; }
            [data-sizex="3"] { width:1050px; }

        }
        @media (min-width: 1200px) {
            .indexmain {
                margin: 0 auto;background-color: #afd9ee;
                width: 1350px;
                padding-right: 15px;
                padding-left: 15px;
            }
            [data-col="4"] { left:1335px; }
            [data-col="3"] { left:895px; }
            [data-col="2"] { left:455px; }
            [data-col="1"] { left:15px; }

            [data-row="6"] { top:1980px; }
            [data-row="5"] { top:1590px; }
            [data-row="4"] { top:1200px; }
            [data-row="3"] { top:810px; }
            [data-row="2"] { top:420px; }
            [data-row="1"] { top:30px; }

            [data-sizey="1"] { height:330px; }
            [data-sizey="2"] { height:720px; }
            [data-sizey="3"] { height:1110px; }

            [data-sizex="1"] { width:410px; }
            [data-sizex="2"] { width:850px; }
            [data-sizex="3"] { width:1290px; }

        }

        .gridster * {
            margin: 0;
            padding: 0;
        }

        ul {
            list-style-type: none;
        }

        body {
            font-size: 16px;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            color: #444;
            margin: 30px 40px;
        }

        .controls {
            margin-bottom: 20px;
        }


        .gridster ul{
            background-color: #1b6d85;
        }
        .gridster li {
            font-size: 1em;
            font-weight: bold;
            text-align: center;
            line-height: 100%;
        }

        .gridster .gs-w {
            background: #DDD;
            cursor: pointer;
        }

        .gridster .player {
            background: #BBB;
        }

        .gridster .preview-holder {
            border: none !important;
            background: red !important;
        }

        .gridster li header {
            background: #999;
            display: block;
            font-size: 20px;
            line-height: normal;
            padding: 4px 0 6px;
            margin-bottom: 20px;
            cursor: move;
        }

    </style>
    <script type="text/javascript">
        var gridster;

        $(function () {

            var w = $(window).width();
            if (w > 1200) {
                var option = [[410, 330], [15, 30]];
            }else{
                var option = [[330, 230], [15, 30]];
            }


//            $(window).resize(function () {
//                var w = $(window).width();
//
//                if (w > 1200) {
//                    gridster.generate_stylesheet({
//                        widget_base_dimensions: [410, 330]
//                    })
//                } else if (w < 1200) {
//                    gridster.generate_stylesheet({
//                        widget_base_dimensions: [330, 230]
//                    })
//
//
//                } else if (w < 700) {
//                    gridster.generate_stylesheet({
//                        widget_base_dimensions: [100, 150]
//                    })
//                }
//            });

            gridster = $(".gridster ul").gridster({
                widget_base_dimensions: option[0],
                widget_margins: option[1],
                draggable: {handle: 'header'},
               autogenerate_stylesheet:false,
                serialize_params: function ($w, wgd) {
                    return {
                        col: wgd.col,
                        row: wgd.row,
                        size_x: wgd.size_x,
                        size_y: wgd.size_y,
                        name: $w.attr("data-name")
                    }
                }
            }).data('gridster');


            $('.js-seralize').on('click', function () {
                var s = gridster.serialize();
                $('#log').html(JSON.stringify(s));
            })
        });
    </script>
</head>
<body>
<button class="js-seralize">Serialize</button>
<div id="log"></div>

<div class="indexmain" >
    <div class="gridster">
        <ul>
            <li data-row="1" data-col="1" data-sizex="1" data-sizey="1" data-name="aaa">
                <header>|||</header>
                aa
            </li>
            <li data-row="1" data-col="2" data-sizex="1" data-sizey="1" data-name="bb">
                <header>|||</header>
                bb
            </li>
            <li data-row="1" data-col="3" data-sizex="1" data-sizey="1">
                <header>|||</header>
                2
            </li>
            <li data-row="2" data-col="1" data-sizex="3" data-sizey="1">
                <header>|||</header>
                3
            </li>

            <li data-row="3" data-col="1" data-sizex="1" data-sizey="1">
                <header>|||</header>
                4
            </li>
            <li data-row="3" data-col="2" data-sizex="2" data-sizey="1">
                <header>|||</header>
                5
            </li>
            <li data-row="4" data-col="1" data-sizex="2" data-sizey="1">
                <header>|||</header>
                6
            </li>
            <li data-row="4" data-col="2" data-sizex="1" data-sizey="1">
                <header>|||</header>
                6
            </li>
        </ul>
    </div>
</div>
</body>
</html>